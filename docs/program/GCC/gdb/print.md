



### 打印表达式

- print 表达式：简记为 p ，其中“表达式”可以是任何当前正在被测试程序的有效表达式，比如当前正在调试C语言的程序，那么“表达式”可以是任何C语言的有效表达式，包括数字，变量甚至是函数调用。
- print a：将显示整数 a 的值
- print ++a：将把 a 中的值加1,并显示出来
- print name：将显示字符串 name 的值
- print gdb_test(22)：将以整数22作为参数调用 gdb_test() 函数
- print gdb_test(a)：将以变量 a 作为参数调用 gdb_test() 函数
- display 表达式：在单步运行时将非常有用，使用display命令设置一个表达式后，它将在每次单步进行指令后，紧接着输出被设置的表达式及值。如： display a
- watch 表达式：设置一个监视点，一旦被监视的“表达式”的值改变，gdb将强行终止正在被调试的程序。如： watch a
- whatis ：查询变量或函数
- info function： 查询函数
- 扩展info locals： 显示当前堆栈页的所有变量

print的输出格式包括：

```
x 按十六进制格式显示变量。
d 按十进制格式显示变量。
u 按十六进制格式显示无符号整型。
o 按八进制格式显示变量。
t 按二进制格式显示变量。
a 按十六进制格式显示变量。
c 按字符格式显示变量。
f 按浮点数格式显示变量。

p/x addr
```





## examine查看内存信息

`x/<n/f/u> <addr>`

- n是一个正整数，表示需要显示的内存单元的个数，也就是说从当前地址向后显示几个内存单元的内容，一个内存单元的大小由后面的u定义。

- f 表示显示的格式，参见下面。如果地址所指的是字符串，那么格式可以是s，如果地十是指令地址，那么格式可以是i。

- u 表示从当前地址往后请求的字节数，如果不指定的话，GDB默认是4个bytes。u参数可以用下面的字符来代替，b表示单字节，h表示双字节，w表示四字 节，g表示八字节。当我们指定了字节长度后，GDB会从指内存定的内存地址开始，读写指定字节，并把其当作一个值取出来。

`注意：严格区分n和u的关系，n表示单元个数，u表示每个单元的大小。`

n/f/u三个参数可以一起使用。例如：

```
命令：x/3uh 0x54320 表示，从内存地址0x54320读取内容，h表示以双字节为一个单位，3表示输出三个单位，u表示按十六进制显示。

x/200xh 输出200个数据，每个数据两个字节，16进制输出
```

```
x 按十六进制格式显示变量。
d 按十进制格式显示变量。 
u 按十六进制格式显示无符号整型。
o 按八进制格式显示变量。
t 按二进制格式显示变量。
a 按十六进制格式显示变量。
c 按字符格式显示变量。
f 按浮点数格式显示变量。
```





## 显示当前将要执行的指令

```
display /i $pc
x/i $pc
```

```
(gdb) display /i $pc
3: x/i $pc
=> 0x10000604 <main+20>:        lis     r3,-26506
(gdb) x/i $pc
=> 0x10000604 <main+20>:        lis     r3,-26506

```





## 显示寄存器的值

```
i reg
info reg
info registers
info registers r1
info reg $vs0

```

以上输出不包括浮点寄存器和向量寄存器的内容。使用`i all-registers`命令，可以输出所有寄存器的内容：

```
i all-registers
```

```
print $eax
p/x $r1
```

